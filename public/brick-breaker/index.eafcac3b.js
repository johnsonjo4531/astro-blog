var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},t={},i=e.parcelRequire8bbe;null==i&&((i=function(e){if(e in a)return a[e].exports;if(e in t){var i=t[e];delete t[e];var n={id:e,exports:{}};return a[e]=n,i.call(n.exports,n,n.exports),n.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,a){t[e]=a},e.parcelRequire8bbe=i),i("27Lyk").register(JSON.parse('{"k4Bbk":"index.eafcac3b.js","abFX9":"01_A_Night_Of_Dizzy_Spells.ff5caf8d.mp3","huF5T":"270326__littlerobotsoundfactory__hit-01.d9fb4820.wav","Lzbsl":"270325__littlerobotsoundfactory__hit-02.993726bd.wav","6F0Mz":"270328__littlerobotsoundfactory__hero-death-00.c9ddaa35.wav","jVIPU":"270333__littlerobotsoundfactory__jingle-win-00.2d9fc6ab.wav"}'));var n={};n=new URL("../"+i("27Lyk").resolve("abFX9"),import.meta.url).toString();var o={};o=new URL("../"+i("27Lyk").resolve("huF5T"),import.meta.url).toString();var r={};r=new URL("../"+i("27Lyk").resolve("Lzbsl"),import.meta.url).toString();var l={};l=new URL("../"+i("27Lyk").resolve("6F0Mz"),import.meta.url).toString();var d={};d=new URL("../"+i("27Lyk").resolve("jVIPU"),import.meta.url).toString(),window.GameView=function e(a){window.OverlayViewSet=null;let t=ViewStarters.EmptyView("EmptyView"),i=ViewStarters.ButtonView("PauseView",$("#pause-view")[0]),w=ViewStarters.ButtonView("GameOverView",$("#game-over-view")[0],(()=>{MainView.loadView(MenuView.name)}));var s=null;const u=e=>{$$(".js-score-here").forEach((a=>{a.innerHTML="",a.appendChild(document.createTextNode(e.points))}))};return{render:function(){s.activate(),OverlayViewSet.loadView(t.name),AudioPool.playMusic("game"),a.start()},unrender:function(){OverlayViewSet.loadView(t.name),s.deactivate(),a.end()},init:async function(){var c=["This is why we can't have nice things.","Better luck next time!","Vandal! Stop breaking my stuff!","Much Wow! Many points! Very Break!","Holy cow Batman!","That just might be the greatest thing I've ever seen!"];OverlayViewSet=ViewSwitcher();var m=$("#game-canvas")[0],v=GameRenderer(m);a.init(v,{width:v.width,height:v.height,unit:v.unit,gameOver(e){e.winner?(AudioPool.playSFX("game_win"),$("#game-over-header")[0].innerHTML="You Win!"):(AudioPool.playSFX("game_over"),$("#game-over-header")[0].innerHTML="Game Over");u(e);var a=Math.min(Math.floor(e.points/e.maxPoints*(c.length-1)),c.length-1),t=c[a];if($$(".js-score-quip-here").forEach((e=>{e.innerHTML="",e.appendChild(document.createTextNode(t))})),scoreboard.isTopScore(e.points))PromptScreen("\n          <h2>You got a High Score!</h2>\n          <h5>Enter your name below and hit submit click enter! You could hit cancel though if you want to be all secret secret.</h5>\n          ").then((function(a){a&&scoreboard.writeScore(a,e.points),AudioPool.playSFX("menu_click"),OverlayViewSet.loadView(w.name)}));else OverlayViewSet.loadView(w.name)}}),AudioPool.addMusic("game",new URL(n)),AudioPool.addSFX("paddle_hit",new URL(o)),AudioPool.addSFX("brick_hit",new URL(r)),AudioPool.addSFX("game_over",new URL(l)),AudioPool.addSFX("game_win",new URL(d)),(s=KeyboardHandler(!0)).addOnceAction("Escape",(()=>{OverlayViewSet.currentView.name!=i.name?(a.state.paused=!0,OverlayViewSet.loadView(i.name)):(a.state.paused=!1,OverlayViewSet.loadView(t.name))})),Events.on($(`#pause-view [data-view-transition="${t.name}"]`),"click",(function(e){a.state.paused=!1})),Events.onPageVisibility((function(n){n.hidden&&MainView.currentView.name===e.name&&OverlayViewSet.currentView.name===t.name&&(a.state.paused=!0,OverlayViewSet.loadView(i.name))})),OverlayViewSet.events.addEventListener("view-loaded",(function(e){e.name===w.name?s.deactivate():(e.name===i.name&&u(a.state),s.activate())})),OverlayViewSet.addViews(t,i,w),OverlayViewSet.loadView(t.name)},name:"GameView"}}(GameLoop);
//# sourceMappingURL=index.eafcac3b.js.map

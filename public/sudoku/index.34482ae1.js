!function t(e,r,s){function o(n,a){if(!r[n]){if(!e[n]){var h="function"==typeof require&&void 0;if(!a&&h)return h(n,!0);if(i)return i(n,!0);var l=new Error("Cannot find module '"+n+"'");throw l.code="MODULE_NOT_FOUND",l}var u=r[n]={exports:{}};e[n][0].call(u.exports,(function(t){var r=e[n][1][t];return o(r||t)}),u,u.exports,t,e,r,s)}return r[n].exports}for(var i="function"==typeof require&&void 0,n=0;n<s.length;n++)o(s[n]);return o}({1:[function(t,e,r){},{}],2:[function(t,e,r){var s,o,i=e.exports={};function n(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function h(t){if(s===setTimeout)return setTimeout(t,0);if((s===n||!s)&&setTimeout)return s=setTimeout,setTimeout(t,0);try{return s(t,0)}catch(e){try{return s.call(null,t,0)}catch(e){return s.call(this,t,0)}}}!function(){try{s="function"==typeof setTimeout?setTimeout:n}catch(t){s=n}try{o="function"==typeof clearTimeout?clearTimeout:a}catch(t){o=a}}();var l,u=[],c=!1,f=-1;function d(){c&&l&&(c=!1,l.length?u=l.concat(u):f=-1,u.length&&m())}function m(){if(!c){var t=h(d);c=!0;for(var e=u.length;e;){for(l=u,u=[];++f<e;)l&&l[f].run();f=-1,e=u.length}l=null,c=!1,function(t){if(o===clearTimeout)return clearTimeout(t);if((o===a||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{return o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(t)}}function g(t,e){this.fun=t,this.array=e}function p(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];u.push(new g(t,e)),1!==u.length||c||h(m)},g.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=p,i.addListener=p,i.once=p,i.off=p,i.removeListener=p,i.removeAllListeners=p,i.emit=p,i.prependListener=p,i.prependOnceListener=p,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],3:[function(t,e,r){(function(e){var{parseBoard:r,BadPuzzleError:s,boardToString:o}=t("./utils/boardUtils"),i=t("./components/DLXBoard");e.getSolutions=async function(t,e){return dlxBoard=new i(t,e),answers=await dlxBoard.solve(),[answers,dlxBoard]},e.parseBoard=r,e.BadPuzzleError=s,e.boardToString=o}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./components/DLXBoard":4,"./utils/boardUtils":9}],4:[function(t,e,r){(function(r){const{DancingLinksHeaderNode:s,DancingLinksNode:o}=t("./DancingLinksNode"),{range:i,cartesianProduct:n}=t("../utils/iterUtils"),{computeBlockIndex:a}=t("../utils/boardMath"),{LowestColStrategy:h,SingleColStrategy:l,DoubleColStrategy:u}=t("./SudokuStrategies");var c=t("../utils/Timer"),{BadPuzzleError:f}=t("../utils/io"),d=t("../utils/nanosecondTimePrinter");class m extends Map{set(t,e){var r=this.get(t)||[];r.push(e),super.set(t,r)}}e.exports=class{constructor(t,e){if(t.length!==e.size)throw new Error("Incorrect number of symbols");this.board=t,this.size=e.size,this.symbolset=e,this._root=new s,this._presolved=0,this._chosenObjects=[],this._constructDLXBoard(),this._mainStrategy={name:"Knuth's DLX Algo",time:0,uses:0},this._strategies=[new l,new u,new h],this._solutions=[],this._currentStrategy=0,this._lastUsedStrategy=-1}_chooseColumnObject(){for(var t=void 0;!t;)t=this._strategies[this._currentStrategy].findCol(this._root),this._currentStrategy!=this._lastUsedStrategy&&this._strategies[this._currentStrategy].uses++,this._lastUsedStrategy=this._currentStrategy,t||this._currentStrategy++;return this._currentStrategy=0,t}async solve(){this._mainStrategy.time=0,this._mainStrategy.uses=1;for(const t of Object.keys(this._strategies))this._strategies[t].time=0,this._strategies[t].uses=0;var t=new c;return this._strategies,this._solutions=[],await this._search(),this._mainStrategy.time+=t.end(),this._solutions}printStats(){var t=t=>[t.name,t.uses,d(t.time)],e=[["Strategy","Uses","Time"],...[this._mainStrategy].map(t),...this._strategies.map(t)],r=e[0].map(((t,r)=>Math.max(...e.map((t=>(""+t[r]).length)))));return e.map((t=>t.map(((t,e)=>(""+t).padEnd(r[e]))).join(" "))).join("\n")}getStats(){var t=t=>[t.name,t.uses,d(t.time)],e=[["Strategy","Uses","Time"],...[this._mainStrategy].map(t),...this._strategies.map(t)],r=e[0].map(((t,r)=>Math.max(...e.map((t=>(""+t[r]).length)))));return e.map((t=>t.map(((t,e)=>(""+t).padEnd(r[e]))).join(" "))).join("\n")}async _search(t=this._presolved){if(!(this._solutions.length>1))if(this._root.right!=this._root){var e=this._chooseColumnObject();e.coverCol();for(const s of e.traverseColDown())this._chosenObjects[t]=s,s.chooseRow(),await new Promise((e=>{r.nextTick((()=>e(this._search(t+1))))})),s.unchooseRow();e.uncoverCol()}else this._solutions.push(this._getSolution())}_constructDLXBoard(){var t=i(0,this.size),e=i(0,this.size),r=i(0,this.size),h=[...this.symbolset],l=[],u=(t,e)=>l[t*this.size+e],c=(t,e)=>l[this.size**2+t*this.size+e],d=(t,e)=>l[this.size**2*2+t*this.size+e],m=(t,e)=>l[this.size**2*3+t*this.size+e],g=this._root,p=(t,e,r,o,i)=>{var n=new s;n.setSolution(e,r,o,i),g.insertAfter(n),g=n,t.push(n)};for(var[w,v]of n(t,e))p(l,w,v);for(var[w,_]of n(t,h))p(l,w,null,null,_);for(var[v,_]of n(t,h))p(l,null,v,null,_);for(var[y,_]of n(r,h))p(l,null,null,y,_);for(var S=new Map([...this.symbolset].map(((t,e)=>[t,e]))),w=0;w<this.board.length;++w)for(var v=0;v<this.board.length;++v){h=[];var _,b=!1;"-"===(_=this.board[w][v])?h=this.symbolset:(h=[_],b=!0);var y=a(Math.sqrt(this.size),v,w);for(const t of h){var T=S.get(t),C=null;const e=new o;C=u(w,v),e.header=C,C.appendToCol(e);const r=new o;C=c(w,T),r.header=C,C.appendToCol(r);const s=new o;C=d(v,T),s.header=C,C.appendToCol(s);const i=new o;C=m(y,T),i.header=C,C.appendToCol(i),e.insertAfter(r),r.insertAfter(s),s.insertAfter(i),b&&this._chosenObjects.push(e)}}if(this._checkConflictingChosen().length>0)throw new f("Invalid Sudoku Board Positions");this._chosenObjects.forEach((t=>{t.header.coverCol(),t.chooseRow()})),this._presolved=this._chosenObjects.length}_getSolution(){for(const t of this._chosenObjects){const[e,r,s,o]=t.getSolution();this.board[e][r]=o}return this.board.map((t=>t.slice())).slice()}_checkConflictingChosen(){if(this._chosenObjects.length<=0)return[];var t=this._chosenObjects.map((t=>t.getSolution())),e=new m(t.map((t=>[t[0],t]))),r=new m(t.map((t=>[t[1],t]))),s=new m(t.map((t=>[t[2],t]))),o=new m(t.map((t=>[t[3],t]))),i=[...this.symbolset];return i.map(((t,n)=>{var a=n+"",h=e.get(a),l=r.get(a),u=s.get(a),c=o.get(i[n]),f=[].concat(...h&&l?h.map((t=>l.filter((e=>t[0]==e[0]&&t[1]==e[1]&&t!==e)).map((e=>["matching row col",t,e])))).filter((t=>t.length)):[],...h&&c?h.map((t=>c.filter((e=>t[0]==e[0]&&t[3]==e[3]&&t!==e)).map((e=>["matching row symbol",t,e])))).filter((t=>t.length)):[],...l&&c?l.map((t=>c.filter((e=>t[1]==e[1]&&t[3]==e[3]&&t!==e)).map((e=>["matching col symbol",t,e])))).filter((t=>t.length)):[],...u&&c?u.map((t=>c.filter((e=>t[2]==e[2]&&t[3]==e[3]&&t!==e)).map((e=>["matching block symbol",t,e])))).filter((t=>t.length)):[]);return f.length>0?f:void 0})).filter((t=>!!t))}}}).call(this,t("_process"))},{"../utils/Timer":7,"../utils/boardMath":8,"../utils/io":10,"../utils/iterUtils":11,"../utils/nanosecondTimePrinter":12,"./DancingLinksNode":5,"./SudokuStrategies":6,_process:2}],5:[function(t,e,r){class s{constructor(){this.left=this,this.right=this,this.up=this,this.down=this,this.header=null}coverRowCell(){this.down.up=this.up,this.up.down=this.down,this.header.size--}uncoverRowCell(){this.header.size++,this.down.up=this,this.up.down=this}coverRow(){for(const t of this.traverseRowRight())t.coverRowCell()}chooseRow(){for(const t of this.traverseRowRight())t.header.coverCol()}unchooseRow(){for(const t of this.traverseRowLeft())t.header.uncoverCol()}uncoverRow(){for(const t of this.traverseRowLeft())t.uncoverRowCell()}*traverseRowRight(){for(var t=this.right;t!=this;)yield t,t=t.right}getSolution(){var t=[];for(const r of this.traverseRowRight()){const s=r.header.name.split("-");for(var e=0;e<s.length;++e)"null"!==s[e]&&(t[e]=s[e])}return t}*traverseRowLeft(){for(var t=this.left;t!=this;)yield t,t=t.left}insertAfter(t){t.right=this.right,t.left=this,this.right.left=t,this.right=t}}e.exports={DancingLinksNode:s,DancingLinksHeaderNode:class extends s{constructor(t){super(),this.header=this,this.size=0,this.name=t}coverCol(){this.right.left=this.left,this.left.right=this.right;for(const t of this.traverseColDown())t.coverRow()}setSolution(t=null,e=null,r=null,s=null){this.name=`${t}-${e}-${r}-${s}`}uncoverCol(){for(const t of this.traverseColUp())t.uncoverRow();this.right.left=this,this.left.right=this}*traverseColDown(){for(var t=this.header,e=t.down;e!=t;)yield e,e=e.down}appendToCol(t){this.size++,t.down=this,t.up=this.up,this.up.down=t,this.up=t}*traverseColUp(){for(var t=this.header,e=t.up;e!=t;)yield e,e=e.up}}}},{}],6:[function(t,e,r){var s=t("../utils/Timer");class o{constructor(){this.name="Sudoku Strategy",this.time=0,this.uses=0}findCol(t,e){var r=new s,o=this.getCol(t);return this.time+=r.end(),e&&this.uses++,o}getCol(){}}e.exports={SudokuStrategy:o,LowestColStrategy:class extends o{constructor(){super(),this.name="Lowest Possibility"}getCol(t){var e=null;for(const r of t.traverseRowRight())if((null===e||r.size>0&&r.size<e.size)&&(e=r,1==r.size))break;return e}},SingleColStrategy:class extends o{constructor(){super(),this.name="One Possibility"}getCol(t){var e=null;for(const r of t.traverseRowRight())if(r.size<=1&&(null===e||r.size>0)){e=r;break}return e}},DoubleColStrategy:class extends o{constructor(){super(),this.name="Two Possibilities"}getCol(t){var e=null;for(const r of t.traverseRowRight())if(r.size<=2&&(null===e||r.size>0)){e=r;break}return e}}}},{"../utils/Timer":7}],7:[function(t,e,r){(function(t){e.exports=class e{constructor(){this.start()}static get NS_PER_SEC(){return 1e9}static get MS_PER_SEC(){return 1e3}hasHRTime(){return t&&t.hrtime}hasPerformanceTimer(){return window&&window.performance&&window.performance.now}start(){this.hasHRTime()?this.startTime=t.hrtime():this.hasPerformanceTimer()?this.startTime=window.performance.now():this.startTime=Date.now()}_convertMsToNano(t){return Math.floor(t*(e.NS_PER_SEC/e.MS_PER_SEC))}end(){if(this.hasHRTime()){var r=t.hrtime(this.startTime);return r[0]*e.NS_PER_SEC+r[1]}return this.hasPerformanceTimer()?this._convertMsToNano(window.performance.now()-this.startTime):this._convertMsToNano(Date.now()-this.startTime)}}}).call(this,t("_process"))},{_process:2}],8:[function(t,e,r){e.exports={computeBlockIndex:function(t,e,r){return Math.floor(e/t)+t*Math.floor(r/t)}}},{}],9:[function(t,e,r){class s extends Error{constructor(t){super(t),this.name="BadPuzzleError"}}e.exports={BadPuzzleError:s,parseBoard:function(t){t=t.split("\n");var e=Number(t[0]),r=new Set(t[1].split(" "));if(r.size!=e)throw new s("symbol set size does not match input size given");var o=t.slice(2,2+e).map((t=>{var o=t.split(" ");if(o.some((t=>"-"!=t&&!r.has(t))))throw new s("symbol cannot be in puzzle");if(o.length!=e)throw new s("row size is not the right length");return o}));return{boardSize:e,symbolset:r,board:o}},boardToString:function(t){return t.map((t=>t.join(" "))).join("\n")}}},{}],10:[function(t,e,r){var s=t("fs");e.exports={readBoardFile:function(t){return s.readFileSync(t,{encoding:"utf-8"})}}},{fs:1}],11:[function(t,e,r){e.exports={cartesianProduct:function*(t,e){for(var r of t)for(var s of e)yield[r,s]},range:function(t,e){return{*[Symbol.iterator](){for(var r=t;r<e;++r)yield r}}}}},{}],12:[function(t,e,r){e.exports=function(t){var e=1e9,r=t%e;t/=e;var s=(t=Math.floor(t))%60;t/=60;var o=(t=Math.floor(t))%60;t/=60,t=Math.floor(t);var i=(t,e)=>(""+t).padStart(e,"0"),n=t=>i(t,2);return`${n(t)}:${n(o)}:${n(s)}${r>0?"."+i(r,9):""}`}},{}]},{},[3]);
//# sourceMappingURL=index.34482ae1.js.map

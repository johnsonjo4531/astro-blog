{"mappings":"AAAAA,OAAOC,cAAgB,SAAWC,EAAYC,EAAoBC,EAAIC,GACpE,OAAO,SAAUC,EAAcC,GACzBA,EAAOJ,EAAmBI,GAE9B,MAAO,CACLC,OAAQC,GAGN,SAASC,IACP,IAAIC,EAAOC,SAASC,eAAe,cAAcC,MAE7CC,EAAWN,EAAUO,KAAKC,OAAOC,OACrChB,EAAWiB,WAAWJ,EAAU,CAACJ,EAAMF,EAAUW,OAAOC,QAExDjB,EAAG,qBAAqBW,OAAcO,SAAQC,IAC5CrB,EAAWM,OAAOe,EAAIR,EAAA,IAGxBT,EAAakB,QAAQ,WAAYf,GAAW,EAC9C,CAbAF,EAAKC,SAeLJ,EAAG,eAAe,GAAGqB,QAWrBpB,EAAOqB,KAAK,OAAQ,YAVpB,SAASC,EAAeC,GAClBtB,EAAauB,cAAgBvB,EAAawB,MAAMC,YAGvC,UAAVH,EAAEI,IACHtB,IAEAL,EAAOqB,KAAK,OAAQ,WAAYC,GAEpC,IAEAtB,EAAOqB,KAAK,iBAAkB,QAAShB,EACzC,EACAuB,WACE1B,EAAK0B,UACP,EAEJ,CACF,CAxCuB,CAwCpBC,WAAYC,UAAUhC,mBAAoBiC,GAAIC","sources":["experiments-static/maze-solver/modules/NameEntryView.js"],"sourcesContent":["window.NameEntryView = (function (ScoreBoard, showUnshowRenderer, $$, Events) {\n  return function (ViewSwitcher, view) {\n    var view = showUnshowRenderer(view);\n\n    return {\n      render (gameState) {\n        view.render();\n        \n        function onSubmit () {\n          var name = document.getElementById('name-input').value;\n\n          var mazeSize = gameState.maze.matrix.length;\n          ScoreBoard.writeScore(mazeSize, [name, gameState.player.score]);\n\n          $$(`[data-scoreboard=\"${mazeSize}\"]`).forEach(el => {\n            ScoreBoard.render(el, mazeSize);\n          });\n          \n          ViewSwitcher.setView('gameOver', gameState, true)\n        }\n\n        $$('#name-input')[0].focus();\n        function enterListener (e) {\n          if (ViewSwitcher.currentView !== ViewSwitcher.views.nameEntry) {\n            return;\n          }\n          if(e.key === 'Enter') {\n            onSubmit();\n          } else {\n            Events.once('body', 'keypress', enterListener);    \n          }\n        }\n        Events.once('body', 'keypress', enterListener);\n        Events.once('.js-submitName', 'click', onSubmit);\n      },\n      unrender () {\n        view.unrender();\n      }\n    }\n  }\n})(ScoreBoard, ViewUtils.showUnshowRenderer, $$, Events)\n"],"names":["window","NameEntryView","ScoreBoard1","showUnshowRenderer","$$1","Events1","ViewSwitcher","view","render","gameState","onSubmit","name","document","getElementById","value","mazeSize","maze","matrix","length","writeScore","player","score","forEach","el","setView","focus","once","enterListener","e","currentView","views","nameEntry","key","unrender","ScoreBoard","ViewUtils","$$","Events"],"version":3,"file":"index.e2c91742.js.map"}
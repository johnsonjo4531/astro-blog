window.KeyboardHandler=function(e=!1){var n=!1,t=new Map,a=new Map,r=new Set,d=new Set,o=[["ArrowDown","Down"],["ArrowLeft","Left"],["ArrowRight","Right"],["ArrowUp","Up"],["Escape","Esc"]];o=o.concat(o.map((e=>e.reverse())));var c=new Map(o);function i(e,n){return e.get(n)||e.get(c.get(n))}function w(e,t){if(n)for(var a of r)a(e,t),d.has(a)&&r.delete(a)}return document.addEventListener("keydown",(o=>{var c;n&&((c=i(t,o.key))&&r.add(c),(c=i(a,o.key))&&!d.has(c)&&(d.add(c),r.add(c)),e&&w())})),document.addEventListener("keyup",(o=>{if(n){(c=i(t,o.key))&&r.delete(c);var c=i(a,o.key);d.has(c)&&d.delete(c),e&&w()}})),{handle:w,addAction:function(e,n){t.set(e,n)},addOnceAction:function(e,n){a.set(e,n)},removeAction:function(e){t.remove(e)},activate(){r.clear(),n=!0},deactivate(){r.clear(),n=!1}}};
//# sourceMappingURL=index.d9ee665a.js.map

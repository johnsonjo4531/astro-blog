{"mappings":"AAAAA,OAAOC,aAAe,SAAuBC,GAC3C,OAAOC,MAAM,CACXC,OAAQC,EAAIC,EAAKC,GACfF,EAAGG,UAAY,gDAEXN,sUASJO,EAAE,gBAAiBJ,GAAI,GAAGK,QAC1B,IAAIC,EAAS,IAAIC,IACjB,SAASC,IACP,IAAI,MAAMC,KAASH,EACjBG,EAAMC,WAEV,CACAJ,EAAOK,IAAIC,OAAOC,QAAQ,CAACC,SAASC,MAAO,SAAS,KAClD,MAAMC,GAASZ,EAAE,gBAAiBJ,GAAI,IAAM,CAAC,GAAGiB,MAChDT,IACAP,EAAIe,EAAA,KAENV,EAAOK,IAAIC,OAAOC,QAAQ,CAACC,SAASC,MAAO,UAAU,KAEnDP,IACAP,EAAI,QAENK,EAAOK,IAAIC,OAAOM,KAAKd,EAAE,iBAAkBJ,GAAK,SAAS,KACvD,MAAMgB,GAASZ,EAAE,gBAAiBJ,GAAI,IAAM,CAAC,GAAGiB,MAChDT,IACAP,EAAIe,EAAA,KAENV,EAAOK,IAAIC,OAAOM,KAAKd,EAAE,iBAAkBJ,GAAK,SAAS,KAEvDQ,IACAP,EAAI,OAER,EACAkB,WAAYC,GACVhB,EAAE,gBAAiBgB,GAAM,GAAGf,OAC9B,GAEJ","sources":["experiments-static/snake/js/lib/PromptScreen.js"],"sourcesContent":["window.PromptScreen = function PromptScreen (promptMessageHTML) {\n  return Modal({\n    render (el, res, rej) {\n      el.innerHTML = `\n      <div class=\"prompt-screen\">\n        ${promptMessageHTML}\n        <input type=\"text\" class=\"prompt-input\"/>\n        <div class=\"row\">\n          <button class=\"prompt-submit selected\">Submit</button>\n          <button class=\"prompt-cancel\">Cancel</button>\n        </div>\n        <h6>For keyboard users: hit 'Enter' to submit and 'Escape' to cancel</h6>\n      </div>\n      `;\n      $('.prompt-input', el)[0].focus();\n      var events = new Set();\n      function removeAllEvents () {\n        for(const event of events) {\n          event.removeAll();\n        }\n      }\n      events.add(Events.onceKey([document.body], 'Enter', () => {\n        const input = ($('.prompt-input', el)[0] || {}).value;\n        removeAllEvents();\n        res(input);\n      }));\n      events.add(Events.onceKey([document.body], 'Escape', () => {\n        // don't provide a name user doesn't want their score kept\n        removeAllEvents();\n        res('');\n      }));\n      events.add(Events.once($('.prompt-submit', el), 'click', () => {\n        const input = ($('.prompt-input', el)[0] || {}).value;\n        removeAllEvents();\n        res(input);\n      }));\n      events.add(Events.once($('.prompt-cancel', el), 'click', () => {\n        // don't provide a name user doesn't want their score kept\n        removeAllEvents();\n        res('');\n      }));\n    },\n    postRender (view) {\n      $('.prompt-input', view)[0].focus();\n    },\n  })\n}\n"],"names":["window","PromptScreen","promptMessageHTML","Modal","render","el","res","rej","innerHTML","$","focus","events","Set","removeAllEvents","event","removeAll","add","Events","onceKey","document","body","input","value","once","postRender","view"],"version":3,"file":"index.728b172a.js.map"}